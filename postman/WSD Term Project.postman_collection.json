{
	"info": {
		"_postman_id": "544def22-0dbc-4880-8f67-e553ff5ae079",
		"name": "WSD Term Project",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "49711522",
		"_collection_link": "https://gangsuckmin-1104011.postman.co/workspace/ede2864e-cdeb-43ae-806b-e29e292e14b0/collection/49711522-544def22-0dbc-4880-8f67-e553ff5ae079?action=share&source=collection_link&creator=49711522"
	},
	"item": [
		{
			"name": "Auth Login",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Login success (200)\", () => {",
							"  pm.response.to.have.status(200);",
							"});",
							"",
							"const json = pm.response.json();",
							"",
							"pm.test(\"Access token exists\", () => {",
							"  pm.expect(json.accessToken).to.exist;",
							"});",
							"",
							"pm.test(\"Refresh token exists\", () => {",
							"  pm.expect(json.refreshToken).to.exist;",
							"});",
							"",
							"// Collection 변수로 저장 (자동 주입용)",
							"pm.collectionVariables.set(\"accessToken\", json.accessToken);",
							"pm.collectionVariables.set(\"refreshToken\", json.refreshToken);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"loginId\": \"user\",\n  \"password\": \"P@ssw0rd!\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/auth/login",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"auth",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "Health Check",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Health is 200\", () => pm.response.to.have.status(200));",
							"",
							"const body = pm.response.json();",
							"pm.test(\"Status is UP\", () => pm.expect(body.status).to.eql(\"UP\"));"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "Accept",
						"value": "application/json",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "{{baseUrl}}/health",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"health"
					]
				}
			},
			"response": []
		},
		{
			"name": "Swagger Check",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"OpenAPI is 200\", () => pm.response.to.have.status(200));",
							"",
							"const body = pm.response.json();",
							"pm.test(\"Has openapi field\", () => pm.expect(body.openapi).to.exist);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/v3/api-docs",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"v3",
						"api-docs"
					]
				}
			},
			"response": []
		},
		{
			"name": "Auth Refresh",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Refresh returns 200\", () => pm.response.to.have.status(200));",
							"const json = pm.response.json();",
							"if (json.accessToken) pm.collectionVariables.set(\"accessToken\", json.accessToken);"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"refreshToken\": \"{{refreshToken}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/auth/refresh",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"auth",
						"refresh"
					]
				}
			},
			"response": []
		},
		{
			"name": "Book List",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"pm.test(\"Books list is 200\", () => pm.response.to.have.status(200));",
							"",
							"const body = pm.response.json();",
							"if (body.content) {",
							"  pm.test(\"content is array\", () => pm.expect(body.content).to.be.an(\"array\"));",
							"} else {",
							"  pm.test(\"body is array\", () => pm.expect(body).to.be.an(\"array\"));",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/books",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books"
					]
				}
			},
			"response": []
		},
		{
			"name": "Book Enter",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"isbn13\": \"stringstringa\",\n  \"title\": \"string\",\n  \"publisher\": \"string\",\n  \"publishedDate\": \"2025-12-24\",\n  \"price\": 0,\n  \"currency\": \"str\",\n  \"stock\": 0\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/books",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books"
					]
				}
			},
			"response": []
		},
		{
			"name": "Book Delete",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/books/1",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books",
						"1"
					]
				}
			},
			"response": []
		},
		{
			"name": "Book Modify",
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{accessToken}}",
							"type": "string"
						}
					]
				},
				"method": "PATCH",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"isbn13\": \"stringstringa\",\n  \"title\": \"string\",\n  \"publisher\": \"string\",\n  \"publishedDate\": \"2025-12-24\",\n  \"price\": 0,\n  \"currency\": \"str\",\n  \"stock\": 2\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/books/2",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books",
						"2"
					]
				}
			},
			"response": []
		},
		{
			"name": "Book Detail",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// accessToken이 있으면 Authorization 헤더 자동 주입",
							"const token = pm.collectionVariables.get(\"accessToken\");",
							"",
							"if (token) {",
							"  pm.request.headers.upsert({",
							"    key: \"Authorization\",",
							"    value: `Bearer ${token}`",
							"  });",
							"}"
						],
						"type": "text/javascript",
						"packages": {},
						"requests": {}
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"auth": {
					"type": "bearer",
					"bearer": [
						{
							"key": "token",
							"value": "{{access_token}}",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "{{access_token}}",
						"type": "text"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{baseUrl}}/books/2",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"books",
						"2"
					]
				}
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					"const token = pm.collectionVariables.get(\"access_token\");",
					"",
					"if (token && token.trim().length > 0) ",
					"{",
					"  pm.request.headers.upsert({",
					"    key: \"Authorization\",",
					"    value: `Bearer ${token}`",
					"  });",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://113.198.66.68:10083"
		},
		{
			"key": "access_token",
			"value": "eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyIiwicm9sZSI6InVzZXIiLCJpYXQiOjE3NjY1ODcyNTMsImV4cCI6MTc2NjU4ODE1M30.ABJ8-EeYh_pPW5bPUfd6yaqOBviu_XDk24RM5Bvzo2MXqjQxGeYFhrgMvENk3d6JEc3TZlXchxxR0BUb1O-amw"
		},
		{
			"key": "refreshToken",
			"value": "865f4f4e-0670-48c0-b4c0-b8e3dacebfea-1524d43b-462a-4993-bed6-0125c01d13f8"
		},
		{
			"key": "accessToken",
			"value": ""
		}
	]
}